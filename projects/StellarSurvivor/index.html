<!DOCTYPE HTML>
<html lang="en">
  <head>
    <title>Jasper Drescher &middot; Portfolio</title>

    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Jasper Drescher's portfolio and résumé. Experience with gameplay, tools and engine programming for multiple games and platforms.">
    <meta name="keywords" content="hmtl,css,javascript,php,c++,c#,programmer,portfolio,jasper,drescher">
    <meta name="author" content="Jasper Drescher">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Jasper Drescher's portfolio and résumé">
    <meta property="og:image" content="../../assets/images/Branding/linkedin.jpg">
    <meta property="og:description" content="Jasper Drescher's portfolio and résumé. Experience with gameplay, tools and engine programming for multiple games and platforms.">
    <meta property="og:url" content="https://jasperdre.com/">
    
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/png" href="../../assets/images/Branding/icon.png">

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha256-YLGeXaapI0/5IgZopewRJcFXomhRMlYYjugPLSyNjTY=" crossorigin="anonymous" />
    <link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="../../assets/css/style.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/styles/default.min.css">

    <!-- JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </head>
  <body>
    <nav class="navbar navbar-expand-md sticky">
      <span class="page"><a href="../../">Portfolio</a> / Stellar Survivor</span>
      <span class="brand"><h1>Jasper Drescher</h1></span>
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link ctooltip" href="../../resume/Résumé_Jasper.pdf" target=”_blank”><i class="fas fa-file-alt fa-2x"></i><span class="tooltipbottom">Résumé</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link ctooltip" href="mailto:jasperdre@gmail.com" target=”_blank”><i class="fas fa-envelope fa-2x"></i><span class="tooltipbottom">Mail</span></a>
        </li>
      </ul>
    </nav>
    <div class="container-fluid mt-2">
      <div class="row">
        <div class="col">
          <div class="card border-dark mb-3">
            <div class="card-header">Trailer</div>
            <div class="card-body text-dark">
              <div class="embed-responsive embed-responsive-16by9">
                <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/X6EYlIg9p-k" allowfullscreen></iframe>
              </div>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card border-dark mb-3">
            <div class="card-header">Specifications</div>
            <div class="card-body text-dark">
              <table class="table">
                <tbody>
                  <tr>
                    <th scope="row">Role</th>
                    <td>Gameplay, Tools & Network Programmer</td>
                  </tr>
                  <tr>
                    <th scope="row">Team</th>
                    <td><a href="../../index.html#sticks&stones">Sticks & Stones</a> 22 students</td>
                  </tr>
                  <tr>
                    <th scope="row">Duration</th>
                    <td>September 2018 - July 2019</td>
                  </tr>
                  <tr>
                    <th scope="row">Engine</th>
                    <td>Unreal Engine 4.22</td>
                  </tr>
                  <tr>
                    <th scope="row">Platforms</th>
                    <td>Windows 10, Steam</td>
                  </tr>
                  <tr>
                    <th scope="row">Language</th>
                    <td>C++11</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>          
          <div class="row justify-content-start">
            <div class="col-2">
              <a href="https://store.steampowered.com/app/1032120/" class="project-link" target=”_blank”><i class="fab fa-steam"></i> Steam</a>
            </div>
            <div class="col-2">
              <a href="https://igad.itch.io/stellar-survivor" class="project-link" target=”_blank”><i class="fab fa-itch-io"></i> Itch.io</a>
            </div>
            <div class="col-3">
                <a href="https://www.facebook.com/StellarSurvivor/" class="project-link" target=”_blank”><i class="fab fa-facebook"></i> Facebook</a>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card slider border-dark mb-3">
            <div class="card-header">Screenshots</div>
            <div class="card-body text-dark">
              <input type="radio" name="slide" id="img-1" checked>
              <input type="radio" name="slide" id="img-2">
              <input type="radio" name="slide" id="img-3">
              <div class="img-box">
                <img class="card-img-top" id="three" src="../../assets/images/StellarSurvivor/img3.png">
                <img class="card-img-top" id="two" src="../../assets/images/StellarSurvivor/img2.png">
                <img class="card-img-top" id="one" src="../../assets/images/StellarSurvivor/img1.png">
              </div>
              <div class="text-center sliders">
                <label for="img-1"><div id="dot-1" class="radio"></div></label>
                <label for="img-2"><div id="dot-2" class="radio"></div></label>
                <label for="img-3"><div id="dot-3" class="radio"></div></label>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row mt-3">
        <div class="col col-lg-6">
          <h1>Description</h1>
          <p>Stellar Survivor is a first-person, co-op photo-realistic survival game. Players can play alone or together with friends on Steam to defend their powercore against waves of aliens. Players do so by the use of weapons and traps with different characteristics that when put to good use, can take down these aliens effectively.</p>
          <p>For this project we had 4 working days per week for 1 school year. During the first block, or 8 weeks, I focused on designing the game conepts using pitches and meetings, and set up our build pipeline for Jenkins and Steam. The remaining months I worked on implementing GameSparks and SteamWorks for online matchmaking and user authentication, as well as actor and property replication. I was also part of a Stability/QA team focused on fixing crashes and bugs using Unreal Engine's crash dumps, profiling tools, and navigating call stacks.</p>
        </div>
        <div class="col col-lg-6">
          <h1>My contributions</h1>
          <h5 class="mt-3">Network engineering</h5>
          Although I was mostly focusing on gameplay, during the production phase I worked on functionality for match making and online multiplayer. This involved the development of a lobby system for friends to join via Steam, and replicating gameplay events to all clients.
          <h6 class="mt-3">Online matchmaking</h6>
          <div class="tab">
            <input id="tab-one" type="checkbox" name="tabs">
            <label for="tab-one">Creating a session</label>
            <div class="tab-content">
              <p>Initially we used a SDK for online matchmaking called GameSparks, which throughout early development turned out to be unreliable and hard to use on multiple platforms. We then moved to SteamWorks, which I implemeneted together with a fellow student programmer.</p>
<pre><code class="cpp">bool USurvivalGameInstance::CreateSession(FName arg_SessionName, bool arg_bIsLAN, bool arg_bIsPresence, int32 arg_MaxNumPlayers)
{
  const IOnlineSubsystem* OnlineSubsystemInterface = IOnlineSubsystem::Get();
  if (OnlineSubsystemInterface)
  {
    IOnlineSessionPtr OnlineSessionInterface = OnlineSubsystemInterface->GetSessionInterface();
    if (OnlineSessionInterface.IsValid())
    {
      SessionSettings = MakeShareable(new FOnlineSessionSettings());
      SessionSettings->bIsLANMatch = arg_bIsLAN;
      SessionSettings->bUsesPresence = arg_bIsPresence;
      SessionSettings->bAllowInvites = true;

      const ULocalPlayer* LocalPlayer = GetFirstGamePlayer();
      if (LocalPlayer->IsValidLowLevelFast())
      {
        FUniqueNetIdWrapper UniqueNetIdWrapper = FUniqueNetIdWrapper(LocalPlayer->GetPreferredUniqueNetId());
        GEngine->AddOnScreenDebugMessage(-1, 5.0f, FColor::Cyan, TEXT("Creating Session!"));
        UE_LOG(SessionLog, Log, TEXT("Creating Online Session..."));
        return OnlineSessionInterface->CreateSession(*UniqueNetIdWrapper.GetUniqueNetId(), arg_SessionName, *SessionSettings);
      }
    }
  }
  return false;
}</code></pre>
            </div>
          </div>
          <div class="tab">
              <input id="tab-two" type="checkbox" name="tabs">
              <label for="tab-two">Joining a friend</label>
              <div class="tab-content">
                <p>By enabling online presence in Unreal Engine 4's Online Subsystem, it's quite easy to look for sessions. In our case however, we wanted to give friends the ability to join through Steam.</p>
<pre><code class="cpp">bool USurvivalGameInstance::JoinFriend(FBPUniqueNetId arg_FriendNetId)
{
  GEngine->AddOnScreenDebugMessage(-1, 5.0f, FColor::Cyan, FString::Printf(TEXT("Joining Player with ID: %d"), *arg_FriendNetId.GetUniqueNetId()->ToString()));
  IOnlineSubsystem* OnlineSubsystemInterface = IOnlineSubsystem::Get();
  if (OnlineSubsystemInterface)
  {
    IOnlineSessionPtr OnlineSessionInterface = OnlineSubsystemInterface->GetSessionInterface();
    if (OnlineSessionInterface.IsValid())
    {
      const ULocalPlayer* LocalPlayer = GetFirstGamePlayer();
      if (LocalPlayer->IsValidLowLevelFast())
      {
        OnFindFriendSessionCompleteDelegateHandle = OnlineSessionInterface->AddOnFindFriendSessionCompleteDelegate_Handle(LocalPlayer->GetControllerId(), OnFindFriendSessionCompleteDelegate);
        return OnlineSessionInterface->FindFriendSession(LocalPlayer->GetControllerId(), *arg_FriendNetId.GetUniqueNetId());
      }
    }
  }
  return false;
}</code></pre>
              </div>
            </div>
            <div class="tab">
                <input id="tab-three" type="checkbox" name="tabs">
                <label for="tab-three">Steam friends</label>
                <div class="tab-content">
                  <img src="../../assets/images/StellarSurvivor/om1.png" class="rounded screenshot float-left">
                  <p>I worked on creating a system through the GameInstance and Online Friends Interface in Unreal Engine 4, to read the friendslist of a player. The player can then invite or join the friend if they are in-game.
                    Because the unique ID that is required to manage online identities in Unreal Engine is abstracted, I added a custom struct that can be used in Blueprints by designers. By also adding extra information such as online status and player name, it became really easy to display and interact with custom PlayerInfo.
                    Whenever a friend is displayed we use a UMG widget that references a list of friends from the GameInstance, which polls for Steam friends using C++ delegates.
                  </p>
<pre><code class="cpp">USTRUCT(BlueprintType)
struct FBPUniqueNetId
{
  GENERATED_USTRUCT_BODY()

public:
  TSharedPtr<const FUniqueNetId> UniqueNetId;

  void SetUniqueNetId(const TSharedPtr<const FUniqueNetId> &arg_NetId)
  {
    UniqueNetId = arg_NetId;
  }

  const FUniqueNetId* GetUniqueNetId() const
  {
    if (UniqueNetId.IsValid())
    {
      return UniqueNetId.Get();
    }
    else
    {
      return nullptr;
    }
  }
};</code></pre>            
                </div>
              </div>
              <div class="tab">
                <input id="tab-four" type="checkbox" name="tabs">
                <label for="tab-four">Steam lobby</label>
                <div class="tab-content">
                  <img src="../../assets/images/StellarSurvivor/om2.png" class="rounded screenshot float-left">
                  <p>Using the custom PlayerState and PlayerInfo I made, a player can ready up in the lobby and the host can start the mission.</p>
                </div>
              </div>
          <h6 class="mt-3">Social interations</h6>
          <div class="tab">
            <input id="tab-five" type="checkbox" name="tabs">
            <label for="tab-five">Chat</label>
            <div class="tab-content">
              <img src="../../assets/images/StellarSurvivor/si1.png" class="rounded screenshot float-left">
              <p>
                Using Blueprints and UMG in Unreal engine 4, I managed to let players send and receive chat message on Steam and local connections.
              </p>
            </div>
          </div>
          <div class="tab">
            <input id="tab-six" type="checkbox" name="tabs">
            <label for="tab-six">Player names</label>
            <div class="tab-content">
              <img src="../../assets/images/StellarSurvivor/si2.png" class="rounded screenshot float-left">
              <p>
                Using Blueprints and UMG in Unreal engine 4, I managed to replicate player names above the player character on Steam and local connections.
              </p>
            </div>
          </div>
          <h6 class="mt-3">Replication</h6>
          <div class="tab">
            <input id="tab-seven" type="checkbox" name="tabs">
            <label for="tab-seven">Base building</label>
            <div class="tab-content">
              <p>Previewing and spawning models.</p>
            </div>
          </div>
          <div class="tab">
            <input id="tab-eight" type="checkbox" name="tabs">
            <label for="tab-eight">Shooting</label>
            <div class="tab-content">
              <p>Replicating bullet actors and debugging using multicast.</p>
            </div>
          </div>
          <h5 class="mt-3">Gameplay</h5>
          <div class="tab">
            <input id="tab-nine" type="checkbox" name="tabs">
            <label for="tab-nine">Enemy AI behavior</label>
            <div class="tab-content">
              <p>Enemy AIC, behaviour tree, blackboard.</p>
            </div>
          </div>
          <h5 class="mt-3">Quality Assurance</h5>
          <div class="tab">
            <input id="tab-ten" type="checkbox" name="tabs">
            <label for="tab-ten">Profiling</label>
            <div class="tab-content">
              <img src="../../assets/images/StellarSurvivor/qa2.png" class="rounded screenshot float-left">
              <p>
                My first task as QA programmer was to analyse our game's network performance using Unreal Engine's <a href="https://docs.unrealengine.com/en-us/Gameplay/Tools/NetworkProfiler">.NET network profiler</a>.
                By recording a few online multiplayer samples of about 5 minutes, I figured out that a few actors (game objects) were replicated either too frequently or had unnecessary network replication. I then implemented different settings, such as net work culling distances and RPC's to replace the slower methods.
                A few times this also meant that we had to move even systems, such as an enemy wave spawner, to the server, or simply make them local. I also looked into a replication graph to optimize network performance, although this wasn't necessary after the level was reduced in size by design.
                The profiler tool was also used to analyse packet loss and track which events had to be marked as reliable, meaning the server would fire an event until it arrives at the client smoothly.
              </p>
              <img src="../../assets/images/StellarSurvivor/qa1.png" class="rounded screenshot float-right">
              <p>
                I also had to optimize our game throughout development by analysing the frame times and tickrates using Unreal Engine's <a href="https://docs.unrealengine.com/en-us/Engine/Performance/StatCommands">stat commands</a>.
                By using this tool I managed to find numerous bugs, such as an asynchronous event to retrieve texture data being continuously called. Some bug fixes reduced our frame times from 200 ms to 18 ms.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer class="page-footer">
      <div class="text-center">
        <a href="https://twitter.com/jasperdre" class="tw-ic">
          <i class="fab fa-twitter fa-lg white-text mr-md-5 mr-3 fa-2x"></i>
        </a>
        <a href="https://codepen.io/JasperDre/" class="cp-ic">
          <i class="fab fa-codepen fa-lg white-text mr-md-5 mr-3 fa-2x"></i>
        </a>
        <a href="https://github.com/JasperDre" class="gh-ic">
          <i class="fab fa-github fa-lg white-text mr-md-5 mr-3 fa-2x"></i>
        </a>
        <a href="https://www.linkedin.com/in/jasperdre/" class="li-ic">
          <i class="fab fa-linkedin fa-lg white-text mr-md-5 mr-3 fa-2x"></i>
        </a>
      </div>
      <div class="footer-copyright text-center py-3">© 2019 by Jasper Drescher under the <a href="https://github.com/JasperDre/jasperdre.github.io/blob/master/LICENSE.md">MIT License</a>.</div>
    </footer>
  </body>
</html>
